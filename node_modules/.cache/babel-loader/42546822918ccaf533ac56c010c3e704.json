{"ast":null,"code":"var _jsxFileName = \"C:\\\\java\\\\interface-react-chatbot\\\\src\\\\components\\\\SimpleForm.js\";\nimport React, { Component } from 'react';\nimport Review from './Review';\nimport AdaptiveCardWrapper from './AdaptiveCardWrapper';\nimport AdaptiveUserCard from './AdaptiveUserCard';\nimport '../index.css';\nimport PropTypes from 'prop-types';\nimport ChatBot from 'react-simple-chatbot';\nimport botAvatar from '../CapGeImage.jpg';\nimport axios from 'axios';\nAdaptiveCardWrapper.propTypes = {\n  steps: PropTypes.object,\n  triggerNextStep: PropTypes.func\n};\nAdaptiveCardWrapper.defaultProps = {\n  steps: undefined,\n  triggerNextStep: undefined\n};\nReview.propTypes = {\n  steps: PropTypes.object\n};\nReview.defaultProps = {\n  steps: undefined\n};\n\nclass SimpleForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: 0,\n      data: {}\n    };\n  }\n\n  componentDidUpdate() {// let payload = {\n    //     token: \"2u2q0SJJ70n8x-iHcoTmgw\",\n    //     data: {\n    //       name: \"nameFirst\",\n    //       email: \"internetEmail\",\n    //       phone: \"phoneHome\",\n    //       _repeat: 10\n    //     }\n    // };\n    // axios({\n    //   method: \"post\",\n    //   url: `https://jsonplaceholder.typicode.com/users/${this.state.id}`,\n    //   data: payload\n    // }).then(resp => {\n    //     console.log('id ' + this.state.id);\n    //   this.setState({\n    //       data: resp.data[this.state.id],\n    //   })\n    //   console.log('user ' + this.state.data)\n    //   return true;\n    // });\n    // console.log('id= ' +this.state.id)\n    // var test = false;\n    // if(this.state.id){\n    //   console.log('on est rentree avec un id = '+this.state.id)\n    //   fetch(`https://jsonplaceholder.typicode.com/users/${this.state.id}`)\n    //    .then(response => response.json())\n    //       .then(json => {this.setState(\n    //         {data:json}\n    //         );\n    //         console.log(this.state.data)\n    //       }\n    //         )\n    // }\n  }\n\n  componentDidUpdate() {\n    axios.get(`https://jsonplaceholder.typicode.com/users/${this.state.id}`).then(response => {\n      // create an array of contacts only with relevant data\n      const newUser = response.data;\n      console.log(newUser); // create a new \"State\" object without mutating \n      // the original State object. \n      // const newState = Object.assign({}, this.state, {\n      //   data: newUser\n      // });\n      // store the new state object in the component's state\n\n      this.setState({\n        data: newState\n      });\n    }).catch(error => console.log(error));\n  }\n\n  render() {\n    return React.createElement(ChatBot, {\n      steps: [{\n        id: '1',\n        message: 'Bonjour, je suis votre assistant virtuel, Donnez votre nom?',\n        trigger: 'name'\n      }, {\n        id: 'name',\n        user: true,\n        trigger: '3'\n      }, {\n        id: '3',\n        message: ' {previousValue}! Quel est votre sexe?',\n        trigger: 'gender'\n      }, {\n        id: 'gender',\n        options: [{\n          value: 'male',\n          label: 'Homme',\n          trigger: '5'\n        }, {\n          value: 'female',\n          label: 'Femme',\n          trigger: '5'\n        }]\n      }, {\n        id: '5',\n        message: 'Quel est votre âge?',\n        trigger: 'age'\n      }, {\n        id: 'age',\n        user: true,\n        trigger: '7',\n        validator: value => {\n          if (isNaN(value)) {\n            return 'La valeur doit être un nombre';\n          } else if (value < 0) {\n            return 'La valeur doit être positive';\n          } else if (value > 120) {\n            return `${value}? Ok!`;\n          }\n\n          return true;\n        }\n      }, {\n        id: '7',\n        message: 'Voilà un petit sommaire',\n        trigger: 'review'\n      }, {\n        id: 'review',\n        component: React.createElement(Review, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }),\n        asMessage: true,\n        trigger: 'update'\n      }, {\n        id: 'update',\n        message: 'Voulez vous modifier quelques champs?',\n        trigger: 'update-question'\n      }, {\n        id: 'update-question',\n        options: [{\n          value: 'yes',\n          label: 'Oui',\n          trigger: 'update-yes'\n        }, {\n          value: 'no',\n          label: 'Non',\n          trigger: 'wannasee-adaptivecard-question'\n        }]\n      }, {\n        id: 'update-yes',\n        message: 'Quel champ voulez vous modifier?',\n        trigger: 'update-fields'\n      }, {\n        id: 'wannasee-adaptivecard-question',\n        message: 'Voulez vous voir la carte adaptative?',\n        trigger: 'wannasee-adaptivecard'\n      }, {\n        id: 'update-fields',\n        options: [{\n          value: 'name',\n          label: 'Nom',\n          trigger: 'update-name'\n        }, {\n          value: 'gender',\n          label: 'Sexe',\n          trigger: 'update-gender'\n        }, {\n          value: 'age',\n          label: 'Age',\n          trigger: 'update-age'\n        }]\n      }, {\n        id: 'update-name',\n        update: 'name',\n        trigger: '7'\n      }, {\n        id: 'update-gender',\n        update: 'gender',\n        trigger: '7'\n      }, {\n        id: 'update-age',\n        update: 'age',\n        trigger: '7'\n      }, {\n        id: 'wannasee-adaptivecard',\n        options: [{\n          value: 'Yes',\n          label: 'Oui',\n          trigger: 'see-adaptivecard'\n        }, {\n          value: 'No',\n          label: 'Non',\n          trigger: 'stock'\n        }]\n      }, {\n        id: 'see-adaptivecard',\n        component: React.createElement(AdaptiveCardWrapper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }),\n        trigger: 'stock'\n      }, {\n        id: 'stock',\n        message: ' Voulez - vous  des informations sur des ?',\n        trigger: 'stock-option'\n      }, {\n        id: 'stock-option',\n        options: [{\n          value: 'User',\n          label: 'Utilisateur',\n          trigger: 'user'\n        }, {\n          value: 'product',\n          label: 'Produit',\n          trigger: 'end-message'\n        }]\n      }, {\n        id: 'user',\n        message: \" Donnez l'identifiant de l'utilisateur ?\",\n        trigger: 'reqUserRes'\n      }, {\n        id: 'reqUserRes',\n        user: true,\n        trigger: 'userResult',\n        validator: value => {\n          if (isNaN(value)) {\n            return 'La valeur doit être un nombre';\n          } else if (value < 0) {\n            return 'La valeur doit être positive';\n          } else if (value > 10) {\n            return `${value}? est hors de la plage des id!`;\n          } else {\n            this.setState({\n              id: value\n            });\n            return true;\n          }\n        }\n      }, {\n        id: 'userResult',\n        component: React.createElement(AdaptiveUserCard, {\n          user: this.state.data.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }),\n        trigger: 'reqUser'\n      }, {\n        id: 'reqUser',\n        message: \" D'autres informations pour un autre utilisateur ?\",\n        trigger: 'autreUseragain'\n      }, {\n        id: 'autreUseragain',\n        options: [{\n          value: 'Yes',\n          label: 'oui',\n          trigger: 'user'\n        }, {\n          value: 'No',\n          label: 'No',\n          trigger: 'end-message'\n        }]\n      }, {\n        id: 'end-message',\n        message: 'Merci , à bientôt!',\n        end: true\n      }],\n      botAvatar: botAvatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default SimpleForm;","map":{"version":3,"sources":["C:/java/interface-react-chatbot/src/components/SimpleForm.js"],"names":["React","Component","Review","AdaptiveCardWrapper","AdaptiveUserCard","PropTypes","ChatBot","botAvatar","axios","propTypes","steps","object","triggerNextStep","func","defaultProps","undefined","SimpleForm","state","id","data","componentDidUpdate","get","then","response","newUser","console","log","setState","newState","catch","error","render","message","trigger","user","options","value","label","validator","isNaN","component","asMessage","update","name","end"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Review from './Review';\r\nimport AdaptiveCardWrapper from './AdaptiveCardWrapper'\r\nimport AdaptiveUserCard from './AdaptiveUserCard';\r\nimport '../index.css';\r\nimport PropTypes from 'prop-types';\r\nimport ChatBot from 'react-simple-chatbot';\r\nimport botAvatar from '../CapGeImage.jpg';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\nAdaptiveCardWrapper.propTypes = {\r\n  steps: PropTypes.object,\r\n  triggerNextStep: PropTypes.func,\r\n};\r\n\r\nAdaptiveCardWrapper.defaultProps = {\r\n  steps: undefined,\r\n  triggerNextStep: undefined,\r\n};\r\n\r\n\r\nReview.propTypes = {\r\n  steps: PropTypes.object,\r\n};\r\n\r\nReview.defaultProps = {\r\n  steps: undefined,\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass SimpleForm extends Component {\r\n\r\n    state = {\r\n        id:0,\r\n        data:{}\r\n    }\r\n    componentDidUpdate(){\r\n        // let payload = {\r\n        //     token: \"2u2q0SJJ70n8x-iHcoTmgw\",\r\n        //     data: {\r\n        //       name: \"nameFirst\",\r\n        //       email: \"internetEmail\",\r\n        //       phone: \"phoneHome\",\r\n        //       _repeat: 10\r\n        //     }\r\n        // };\r\n        \r\n        // axios({\r\n        //   method: \"post\",\r\n        //   url: `https://jsonplaceholder.typicode.com/users/${this.state.id}`,\r\n        //   data: payload\r\n        // }).then(resp => {\r\n        //     console.log('id ' + this.state.id);\r\n        //   this.setState({\r\n        //       data: resp.data[this.state.id],\r\n        //   })\r\n        //   console.log('user ' + this.state.data)\r\n        //   return true;\r\n        // });\r\n        // console.log('id= ' +this.state.id)\r\n        // var test = false;\r\n        // if(this.state.id){\r\n        //   console.log('on est rentree avec un id = '+this.state.id)\r\n        //   fetch(`https://jsonplaceholder.typicode.com/users/${this.state.id}`)\r\n        //    .then(response => response.json())\r\n        //       .then(json => {this.setState(\r\n        //         {data:json}\r\n        //         );\r\n        //         console.log(this.state.data)\r\n                \r\n        //       }\r\n        //         )\r\n\r\n\r\n        // }\r\n    }\r\n        componentDidUpdate() {\r\n          axios\r\n            .get(`https://jsonplaceholder.typicode.com/users/${this.state.id}`)\r\n            .then(response => {\r\n      \r\n              // create an array of contacts only with relevant data\r\n              const newUser = response.data;\r\n              console.log(newUser)\r\n              // create a new \"State\" object without mutating \r\n              // the original State object. \r\n              // const newState = Object.assign({}, this.state, {\r\n              //   data: newUser\r\n              // });\r\n      \r\n              // store the new state object in the component's state\r\n              this.setState({\r\n                data : newState\r\n              });\r\n            })\r\n            .catch(error => console.log(error));\r\n        }\r\n\r\n\r\n\r\n   \r\n    render() {\r\n      return (\r\n        <ChatBot\r\n          steps={[\r\n            {\r\n              id: '1',\r\n              message: 'Bonjour, je suis votre assistant virtuel, Donnez votre nom?',\r\n              trigger: 'name',\r\n            },\r\n            {\r\n              id: 'name',\r\n              user: true,\r\n              trigger: '3',\r\n            },\r\n            {\r\n              id: '3',\r\n              message: ' {previousValue}! Quel est votre sexe?',\r\n              trigger: 'gender',\r\n            },\r\n            {\r\n              id: 'gender',\r\n              options: [\r\n                { value: 'male', label: 'Homme', trigger: '5' },\r\n                { value: 'female', label: 'Femme', trigger: '5' },\r\n              ],\r\n            },\r\n            {\r\n              id: '5',\r\n              message: 'Quel est votre âge?',\r\n              trigger: 'age',\r\n            },\r\n            {\r\n              id: 'age',\r\n              user: true,\r\n              trigger: '7',\r\n              validator: (value) => {\r\n                if (isNaN(value)) {\r\n                  return 'La valeur doit être un nombre';\r\n                } else if (value < 0) {\r\n                  return 'La valeur doit être positive';\r\n                } else if (value > 120) {\r\n                  return `${value}? Ok!`;\r\n                }\r\n  \r\n                return true;\r\n              },\r\n            },\r\n            {\r\n              id: '7',\r\n              message: 'Voilà un petit sommaire',\r\n              trigger: 'review',\r\n            },\r\n            {\r\n              id: 'review',\r\n              component: <Review />,\r\n              asMessage: true,\r\n              trigger: 'update',\r\n            },\r\n            {\r\n              id: 'update',\r\n              message: 'Voulez vous modifier quelques champs?',\r\n              trigger: 'update-question',\r\n            },\r\n            {\r\n              id: 'update-question',\r\n              options: [\r\n                { value: 'yes', label: 'Oui', trigger: 'update-yes' },\r\n                { value: 'no', label: 'Non', trigger: 'wannasee-adaptivecard-question' },\r\n              ],\r\n            },\r\n            {\r\n              id: 'update-yes',\r\n              message: 'Quel champ voulez vous modifier?',\r\n              trigger: 'update-fields',\r\n            },\r\n            {\r\n              id: 'wannasee-adaptivecard-question',\r\n              message: 'Voulez vous voir la carte adaptative?',\r\n              trigger: 'wannasee-adaptivecard',\r\n            },\r\n            {\r\n              id: 'update-fields',\r\n              options: [\r\n                { value: 'name', label: 'Nom', trigger: 'update-name' },\r\n                { value: 'gender', label: 'Sexe', trigger: 'update-gender' },\r\n                { value: 'age', label: 'Age', trigger: 'update-age' },\r\n              ],\r\n            },\r\n            {\r\n              id: 'update-name',\r\n              update: 'name',\r\n              trigger: '7',\r\n            },\r\n            {\r\n              id: 'update-gender',\r\n              update: 'gender',\r\n              trigger: '7',\r\n            },\r\n            {\r\n              id: 'update-age',\r\n              update: 'age',\r\n              trigger: '7',\r\n            },\r\n            {\r\n              id: 'wannasee-adaptivecard',\r\n              options: [\r\n                { value: 'Yes', label: 'Oui', trigger: 'see-adaptivecard' },\r\n                { value: 'No', label: 'Non', trigger: 'stock' },\r\n              ],\r\n            },\r\n            {\r\n              id: 'see-adaptivecard',\r\n              component: <AdaptiveCardWrapper />,\r\n              trigger: 'stock',\r\n            },\r\n            {\r\n                id: 'stock',\r\n                message: ' Voulez - vous  des informations sur des ?',\r\n                trigger: 'stock-option',\r\n            },\r\n            {\r\n                id: 'stock-option',\r\n                options: [\r\n                  { value: 'User', label: 'Utilisateur', trigger: 'user' },\r\n                  { value: 'product', label: 'Produit', trigger: 'end-message' },\r\n                ],\r\n            },\r\n            {\r\n                id: 'user',\r\n                message: \" Donnez l'identifiant de l'utilisateur ?\",\r\n                trigger: 'reqUserRes',\r\n            },\r\n            {\r\n                id: 'reqUserRes',\r\n                user: true,\r\n                trigger: 'userResult',\r\n                validator: (value) => {\r\n                    if (isNaN(value)) {\r\n                      return 'La valeur doit être un nombre';\r\n                    } else if (value < 0) {\r\n                      return 'La valeur doit être positive';\r\n                    } else if (value > 10) {   \r\n                      return `${value}? est hors de la plage des id!`;\r\n                    } else {\r\n                        this.setState({\r\n                            id:value\r\n                        })\r\n                        return true;\r\n                    }\r\n      \r\n                    \r\n                  },\r\n            },\r\n            {\r\n                id: 'userResult',\r\n                component: <AdaptiveUserCard user={this.state.data.name} />,\r\n                trigger: 'reqUser',\r\n              },\r\n            {\r\n                id: 'reqUser',\r\n                message: \" D'autres informations pour un autre utilisateur ?\",\r\n                trigger: 'autreUseragain',\r\n            },\r\n            {\r\n                id: 'autreUseragain',\r\n                options: [\r\n                  { value: 'Yes', label: 'oui', trigger: 'user' },\r\n                  { value: 'No', label: 'No', trigger: 'end-message' },\r\n                ],\r\n            },\r\n            \r\n            {\r\n              id: 'end-message',\r\n              message: 'Merci , à bientôt!',\r\n              end: true,\r\n            },\r\n          ]}\r\n        botAvatar={botAvatar}/>\r\n      );\r\n    }\r\n  }\r\nexport default SimpleForm  "]},"metadata":{},"sourceType":"module"}