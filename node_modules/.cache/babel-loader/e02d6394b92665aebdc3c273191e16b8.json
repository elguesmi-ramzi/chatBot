{"ast":null,"code":"var _jsxFileName = \"C:\\\\java\\\\interface-react-chatbot\\\\src\\\\components\\\\AdaptiveUserCard.js\";\nimport React, { Component } from 'react';\nimport AdaptiveCard from 'react-adaptivecards';\nimport axios from 'axios';\n\nfunction payloads(name, siteWeb, email, phone) {\n  return `{\n        \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n        \"type\": \"AdaptiveCard\",\n        \"version\": \"1.0\",\n        \"body\": [\n          {\n            \"type\": \"Container\",\n            \"items\": [\n              {\n                \"type\": \"TextBlock\",\n                \"text\": \"Carte utilisateur\",\n                \"weight\": \"bolder\",\n                \"size\": \"medium\"\n              },\n              {\n                \"type\": \"ColumnSet\",\n                \"columns\": [\n                  {\n                    \"type\": \"Column\",\n                    \"width\": \"auto\",\n                    \"items\": [\n                      {\n                        \"type\": \"Image\",\n                        \"url\": \"https://pbs.twimg.com/profile_images/3647943215/d7f12830b3c17a5a9e4afcc370e3a37e_400x400.jpeg\",\n                        \"size\": \"small\",\n                        \"style\": \"person\"\n                      }\n                    ]\n                  },\n                  {\n                    \"type\": \"Column\",\n                    \"width\": \"stretch\",\n                    \"items\": [\n                      {\n                        \"type\": \"TextBlock\",\n                        \"text\": \"${name}\",\n                        \"weight\": \"bolder\",\n                        \"wrap\": true\n                      },\n                      {\n                        \"type\": \"TextBlock\",\n                        \"spacing\": \"none\",\n                        \"isSubtle\": true,\n                        \"wrap\": true\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"type\": \"Container\",\n            \"items\": [\n              \n              {\n                \"type\": \"FactSet\",\n                \"facts\": [\n                  {\n                    \"title\": \"E-mail:\",\n                    \"value\": \"${email}\"\n                  },\n                  {\n                    \"title\": \"Tél:\",\n                    \"value\": \"${phone}\"\n                  },\n                  {\n                    \"title\": \"Site web:\",\n                    \"value\": \"${siteWeb}\"\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }`;\n}\n\nclass AdaptiveUserCard extends Component {\n  // name, siteWeb, email, phone\n  constructor(props) {\n    super(props);\n    console.log(props.id);\n    this.state = {\n      loading: true,\n      trigger: false,\n      user: {}\n    };\n    this.triggetNext = this.triggetNext.bind(this);\n    this.result = {};\n  }\n\n  shouldComponentUpdate(prevProps) {\n    console.log(\"propps review : idUser\");\n    console.log(this.props.id);\n    console.log(\"propps review : Prevprop\");\n    console.log(this.state.user.id);\n\n    if (this.props.id !== this.state.user.id) {\n      return true;\n    } else return false;\n  }\n\n  componentWillMount() {\n    //function generateCard() {\n    console.log('didMount' + this.props.id);\n    axios.get(`https://jsonplaceholder.typicode.com/users/${this.props.id}`).then(response => {\n      // create an array of contacts only with relevant data\n      const newUser = response.data;\n      console.log(newUser);\n      this.setState({\n        user: newUser\n      }); // create a new \"State\" object without mutating \n      // the original State object. \n      // const newState = Object.assign({}, this.state, {\n      //   data: newUser\n      // });\n      // store the new state object in the component's state\n\n      console.log(newUser.name);\n      console.log(newUser.siteWeb);\n      console.log(newUser.email);\n      console.log(newUser.phone);\n\n      try {\n        const tmp = payloads(newUser.name, newUser.siteWeb, newUser.email, newUser.phone);\n        console.log('tmp: ' + tmp);\n        const obj = JSON.parse(tmp);\n        this.result = obj;\n        console.log('result :' + this.result);\n      } catch (ex) {\n        console.error(ex);\n      } //this.result = payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone);\n\n\n      return newUser;\n    }).catch(error => console.log(error)); //}\n  }\n\n  triggetNext() {\n    this.setState({\n      trigger: true\n    }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n  render() {\n    return (//<div className=\"dbpedia\" style={{width:'100%'}}>\n      React.createElement(AdaptiveCard, {\n        style: {\n          width: '400px',\n          border: '1px solid black'\n        },\n        payload: this.result,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }) // </div> \n\n    );\n  }\n\n}\n\nexport default AdaptiveUserCard;","map":{"version":3,"sources":["C:/java/interface-react-chatbot/src/components/AdaptiveUserCard.js"],"names":["React","Component","AdaptiveCard","axios","payloads","name","siteWeb","email","phone","AdaptiveUserCard","constructor","props","console","log","id","state","loading","trigger","user","triggetNext","bind","result","shouldComponentUpdate","prevProps","componentWillMount","get","then","response","newUser","data","setState","tmp","obj","JSON","parse","ex","error","catch","triggerNextStep","render","width","border"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AdaptiveCard from 'react-adaptivecards';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction payloads(name, siteWeb, email, phone){ \r\n    return (\r\n      `{\r\n        \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\r\n        \"type\": \"AdaptiveCard\",\r\n        \"version\": \"1.0\",\r\n        \"body\": [\r\n          {\r\n            \"type\": \"Container\",\r\n            \"items\": [\r\n              {\r\n                \"type\": \"TextBlock\",\r\n                \"text\": \"Carte utilisateur\",\r\n                \"weight\": \"bolder\",\r\n                \"size\": \"medium\"\r\n              },\r\n              {\r\n                \"type\": \"ColumnSet\",\r\n                \"columns\": [\r\n                  {\r\n                    \"type\": \"Column\",\r\n                    \"width\": \"auto\",\r\n                    \"items\": [\r\n                      {\r\n                        \"type\": \"Image\",\r\n                        \"url\": \"https://pbs.twimg.com/profile_images/3647943215/d7f12830b3c17a5a9e4afcc370e3a37e_400x400.jpeg\",\r\n                        \"size\": \"small\",\r\n                        \"style\": \"person\"\r\n                      }\r\n                    ]\r\n                  },\r\n                  {\r\n                    \"type\": \"Column\",\r\n                    \"width\": \"stretch\",\r\n                    \"items\": [\r\n                      {\r\n                        \"type\": \"TextBlock\",\r\n                        \"text\": \"${name}\",\r\n                        \"weight\": \"bolder\",\r\n                        \"wrap\": true\r\n                      },\r\n                      {\r\n                        \"type\": \"TextBlock\",\r\n                        \"spacing\": \"none\",\r\n                        \"isSubtle\": true,\r\n                        \"wrap\": true\r\n                      }\r\n                    ]\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"type\": \"Container\",\r\n            \"items\": [\r\n              \r\n              {\r\n                \"type\": \"FactSet\",\r\n                \"facts\": [\r\n                  {\r\n                    \"title\": \"E-mail:\",\r\n                    \"value\": \"${email}\"\r\n                  },\r\n                  {\r\n                    \"title\": \"Tél:\",\r\n                    \"value\": \"${phone}\"\r\n                  },\r\n                  {\r\n                    \"title\": \"Site web:\",\r\n                    \"value\": \"${siteWeb}\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }`\r\n       \r\n    )\r\n  \r\n}\r\n\r\n\r\nclass AdaptiveUserCard extends Component {\r\n\r\n\r\n\r\n\r\n// name, siteWeb, email, phone\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props.id)\r\n    this.state = {\r\n      loading: true,\r\n      trigger: false,\r\n      user:{}\r\n    };\r\n    \r\n    this.triggetNext = this.triggetNext.bind(this);\r\n    this.result = {}\r\n  }\r\n\r\n\r\n\r\n  shouldComponentUpdate(prevProps){\r\n    console.log(\"propps review : idUser\");\r\n    console.log(this.props.id );\r\n    console.log(\"propps review : Prevprop\");\r\n    console.log(this.state.user.id);\r\n    if (this.props.id !== this.state.user.id){\r\n      return true\r\n    }else return false;\r\n  }\r\ncomponentWillMount(){\r\n  //function generateCard() {\r\n    console.log('didMount' + this.props.id);\r\n   \r\n      axios.get(`https://jsonplaceholder.typicode.com/users/${this.props.id}`)\r\n        \r\n        .then(response => {\r\n\r\n        // create an array of contacts only with relevant data\r\n        const newUser = response.data;\r\n        console.log(newUser)\r\n        this.setState(\r\n        {user : newUser}\r\n        )\r\n        // create a new \"State\" object without mutating \r\n        // the original State object. \r\n        // const newState = Object.assign({}, this.state, {\r\n        //   data: newUser\r\n        // });\r\n\r\n        // store the new state object in the component's state\r\n        console.log(newUser.name)\r\n        console.log(newUser.siteWeb)\r\n        console.log(newUser.email)\r\n        console.log(newUser.phone)\r\n        try {\r\n          const tmp =  payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone) ;\r\n          console.log('tmp: ' + tmp)\r\n          const obj = JSON.parse(tmp);\r\n          this.result = obj\r\n          console.log('result :' + this.result)\r\n        } catch (ex) {\r\n          \r\n          console.error(ex);\r\n        }\r\n        //this.result = payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone);\r\n        \r\n        \r\n        return newUser; \r\n      })\r\n      .catch(error => console.log(error));\r\n  //}\r\n}\r\n\r\n\r\n\r\n  \r\n\r\n  triggetNext() {\r\n    this.setState({ trigger: true }, () => {\r\n      this.props.triggerNextStep();\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n          return (\r\n          //<div className=\"dbpedia\" style={{width:'100%'}}>\r\n            <AdaptiveCard style={{width: '400px', border: '1px solid black'}} payload={this.result} />\r\n         // </div> \r\n         );\r\n        \r\n    \r\n    \r\n  }\r\n}\r\n\r\nexport default AdaptiveUserCard"]},"metadata":{},"sourceType":"module"}