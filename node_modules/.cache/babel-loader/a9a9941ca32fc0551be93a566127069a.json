{"ast":null,"code":"var _jsxFileName = \"C:\\\\java\\\\interface-react-chatbot - Copie\\\\src\\\\components\\\\AdaptiveUserCard.js\";\nimport React, { Component } from 'react';\nimport AdaptiveCard from 'react-adaptivecards';\nimport axios from 'axios';\n\nfunction payloads(name, siteWeb, email, phone) {\n  return `{\n        \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n        \"type\": \"AdaptiveCard\",\n        \"version\": \"1.0\",\n        \"body\": [\n          {\n            \"type\": \"Container\",\n            \"items\": [\n              {\n                \"type\": \"TextBlock\",\n                \"text\": \"Carte utilisateur\",\n                \"weight\": \"bolder\",\n                \"size\": \"medium\"\n              },\n              {\n                \"type\": \"ColumnSet\",\n                \"columns\": [\n                  {\n                    \"type\": \"Column\",\n                    \"width\": \"auto\",\n                    \"items\": [\n                      {\n                        \"type\": \"Image\",\n                        \"url\": \"https://pbs.twimg.com/profile_images/3647943215/d7f12830b3c17a5a9e4afcc370e3a37e_400x400.jpeg\",\n                        \"size\": \"small\",\n                        \"style\": \"person\"\n                      }\n                    ]\n                  },\n                  {\n                    \"type\": \"Column\",\n                    \"width\": \"stretch\",\n                    \"items\": [\n                      {\n                        \"type\": \"TextBlock\",\n                        \"text\": \"${name}\",\n                        \"weight\": \"bolder\",\n                        \"wrap\": true\n                      },\n                      {\n                        \"type\": \"TextBlock\",\n                        \"spacing\": \"none\",\n                        \"isSubtle\": true,\n                        \"wrap\": true\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"type\": \"Container\",\n            \"items\": [\n              \n              {\n                \"type\": \"FactSet\",\n                \"facts\": [\n                  {\n                    \"title\": \"E-mail:\",\n                    \"value\": \"${email}\"\n                  },\n                  {\n                    \"title\": \"Tél:\",\n                    \"value\": \"${phone}\"\n                  },\n                  {\n                    \"title\": \"Site web:\",\n                    \"value\": \"${siteWeb}\"\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }`;\n}\n\nclass AdaptiveUserCard extends Component {\n  // name, siteWeb, email, phone\n  constructor(props) {\n    super(props);\n\n    this.getResponse = () => {\n      //function generateCard() {\n      var rep = {};\n      console.log('didMount- question' + this.props.previousStep.value);\n      var question = new FormData();\n      question.set(\"owner\", \"Ramzi\");\n      question.append(\"question\", this.props.previousStep.value);\n      question.append(\"solved\", false);\n      console.log('questionjson' + question); //     axios(`http://localhost:8000/backend/request/`)\n      //       .then(response => {\n      //       // create an array of contacts only with relevant data\n      //       const newUser = response.data;\n      //       console.log(newUser)\n      //       // create a new \"State\" object without mutating \n      //       // the original State object. \n      //       // const newState = Object.assign({}, this.state, {\n      //       //   data: newUser\n      //       // });\n      //       // store the new state object in the component's state\n      //       console.log(newUser.name)\n      //       console.log(newUser.siteWeb)\n      //       console.log(newUser.email)\n      //       console.log(newUser.phone)\n      //       try {\n      //         const tmp =  payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone) ;\n      //         console.log('tmp: ' + tmp)\n      //         const obj = JSON.parse(tmp);\n      //         this.result = obj\n      //         console.log(this.result)\n      //       } catch (ex) {\n      //         console.error(ex);\n      //       }\n      //       //this.result = payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone);\n      //       return newUser; \n      //     })\n      //     .catch(error => console.log(error));\n      // //}\n\n      axios({\n        method: 'post',\n        url: 'http://localhost:8000/backend/request/',\n        data: question\n      }).then(function (reponse) {\n        //On traite la suite une fois la réponse obtenue \n        rep = reponse.data;\n        console.log(rep);\n        this.setState({\n          resultat: rep\n        });\n        console.log(this);\n      }).catch(function (erreur) {\n        //On traite ici les erreurs éventuellement survenues\n        console.log(erreur);\n      });\n    };\n\n    this.state = {\n      loading: true,\n      trigger: false,\n      resultat: {}\n    };\n    this.triggetNext = this.triggetNext.bind(this);\n  }\n\n  triggetNext() {\n    this.setState({\n      trigger: true\n    }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n  componentWillMount() {\n    var rep = {};\n    console.log('didMount- question' + this.props.previousStep.value);\n    var question = new FormData();\n    question.set(\"owner\", \"Ramzi\");\n    console.log(this.props.steps.name.value);\n    question.append(\"question\", this.props.previousStep.value);\n    question.append(\"solved\", false);\n    console.log('questionjson' + question);\n    axios({\n      method: 'post',\n      url: 'http://localhost:8000/backend/request/',\n      data: question\n    }).then(reponse => {\n      //On traite la suite une fois la réponse obtenue \n      rep = reponse.data;\n      console.log(rep);\n      this.resultat = rep;\n      console.log(this);\n    }).catch(function (erreur) {\n      //On traite ici les erreurs éventuellement survenues\n      console.log(erreur);\n    });\n  }\n\n  render() {\n    return (//<div className=\"dbpedia\" style={{width:'100%'}}>\n      //  <AdaptiveCard style={{width: '400px', border: '1px solid black'}} payload={this.result} />\n      // </div> \n      React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Etat :\", this.resultat && `${this.resultat.message}`), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"Id: \", this.resultat && `${this.resultat.id}`))\n    );\n  }\n\n}\n\nexport default AdaptiveUserCard;","map":{"version":3,"sources":["C:/java/interface-react-chatbot - Copie/src/components/AdaptiveUserCard.js"],"names":["React","Component","AdaptiveCard","axios","payloads","name","siteWeb","email","phone","AdaptiveUserCard","constructor","props","getResponse","rep","console","log","previousStep","value","question","FormData","set","append","method","url","data","then","reponse","setState","resultat","catch","erreur","state","loading","trigger","triggetNext","bind","triggerNextStep","componentWillMount","steps","render","message","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AdaptiveCard from 'react-adaptivecards';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction payloads(name, siteWeb, email, phone){ \r\n    return (\r\n      `{\r\n        \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\r\n        \"type\": \"AdaptiveCard\",\r\n        \"version\": \"1.0\",\r\n        \"body\": [\r\n          {\r\n            \"type\": \"Container\",\r\n            \"items\": [\r\n              {\r\n                \"type\": \"TextBlock\",\r\n                \"text\": \"Carte utilisateur\",\r\n                \"weight\": \"bolder\",\r\n                \"size\": \"medium\"\r\n              },\r\n              {\r\n                \"type\": \"ColumnSet\",\r\n                \"columns\": [\r\n                  {\r\n                    \"type\": \"Column\",\r\n                    \"width\": \"auto\",\r\n                    \"items\": [\r\n                      {\r\n                        \"type\": \"Image\",\r\n                        \"url\": \"https://pbs.twimg.com/profile_images/3647943215/d7f12830b3c17a5a9e4afcc370e3a37e_400x400.jpeg\",\r\n                        \"size\": \"small\",\r\n                        \"style\": \"person\"\r\n                      }\r\n                    ]\r\n                  },\r\n                  {\r\n                    \"type\": \"Column\",\r\n                    \"width\": \"stretch\",\r\n                    \"items\": [\r\n                      {\r\n                        \"type\": \"TextBlock\",\r\n                        \"text\": \"${name}\",\r\n                        \"weight\": \"bolder\",\r\n                        \"wrap\": true\r\n                      },\r\n                      {\r\n                        \"type\": \"TextBlock\",\r\n                        \"spacing\": \"none\",\r\n                        \"isSubtle\": true,\r\n                        \"wrap\": true\r\n                      }\r\n                    ]\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"type\": \"Container\",\r\n            \"items\": [\r\n              \r\n              {\r\n                \"type\": \"FactSet\",\r\n                \"facts\": [\r\n                  {\r\n                    \"title\": \"E-mail:\",\r\n                    \"value\": \"${email}\"\r\n                  },\r\n                  {\r\n                    \"title\": \"Tél:\",\r\n                    \"value\": \"${phone}\"\r\n                  },\r\n                  {\r\n                    \"title\": \"Site web:\",\r\n                    \"value\": \"${siteWeb}\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }`\r\n       \r\n    )\r\n  \r\n}\r\n\r\n\r\nclass AdaptiveUserCard extends Component {\r\n\r\n\r\n\r\n\r\n// name, siteWeb, email, phone\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      trigger: false,\r\n      resultat : {}\r\n    };\r\n    \r\n    this.triggetNext = this.triggetNext.bind(this);\r\n    \r\n  }\r\n \r\n\r\ngetResponse = () =>{\r\n  //function generateCard() {\r\n    var rep = {}\r\n    console.log('didMount- question' + this.props.previousStep.value);\r\n    var question = new FormData()\r\n    question.set(\"owner\", \"Ramzi\")\r\n    question.append(\"question\", this.props.previousStep.value)\r\n    question.append(\"solved\", false)\r\n    console.log('questionjson' + question);  \r\n   \r\n  //     axios(`http://localhost:8000/backend/request/`)\r\n        \r\n  //       .then(response => {\r\n\r\n  //       // create an array of contacts only with relevant data\r\n  //       const newUser = response.data;\r\n  //       console.log(newUser)\r\n       \r\n  //       // create a new \"State\" object without mutating \r\n  //       // the original State object. \r\n  //       // const newState = Object.assign({}, this.state, {\r\n  //       //   data: newUser\r\n  //       // });\r\n\r\n  //       // store the new state object in the component's state\r\n  //       console.log(newUser.name)\r\n  //       console.log(newUser.siteWeb)\r\n  //       console.log(newUser.email)\r\n  //       console.log(newUser.phone)\r\n  //       try {\r\n  //         const tmp =  payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone) ;\r\n  //         console.log('tmp: ' + tmp)\r\n  //         const obj = JSON.parse(tmp);\r\n  //         this.result = obj\r\n  //         console.log(this.result)\r\n  //       } catch (ex) {\r\n          \r\n  //         console.error(ex);\r\n  //       }\r\n  //       //this.result = payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone);\r\n        \r\n        \r\n  //       return newUser; \r\n  //     })\r\n  //     .catch(error => console.log(error));\r\n  // //}\r\n  \r\n  axios({\r\n    method: 'post',\r\n    url: 'http://localhost:8000/backend/request/',\r\n    data: question\r\n    \r\n  })\r\n  .then(function (reponse) {\r\n      //On traite la suite une fois la réponse obtenue \r\n      rep = reponse.data\r\n      console.log(rep);\r\n      this.setState({\r\n        resultat:rep\r\n      })\r\n      console.log(this)\r\n      \r\n  })\r\n  .catch(function (erreur) {\r\n      //On traite ici les erreurs éventuellement survenues\r\n      console.log(erreur);\r\n  });\r\n\r\n\r\n\r\n}\r\n\r\n\r\n  triggetNext() {\r\n    this.setState({ trigger: true }, () => {\r\n      this.props.triggerNextStep();\r\n    });\r\n  }\r\n  \r\n\r\n\r\n  componentWillMount(){\r\n    var rep = {}\r\n    console.log('didMount- question' + this.props.previousStep.value);\r\n    var question = new FormData()\r\n    question.set(\"owner\", \"Ramzi\")\r\n    console.log(this.props.steps.name.value);\r\n    question.append(\"question\", this.props.previousStep.value)\r\n    question.append(\"solved\", false)\r\n    console.log('questionjson' + question);  \r\n \r\n  axios({\r\n    method: 'post',\r\n    url: 'http://localhost:8000/backend/request/',\r\n    data: question\r\n    \r\n  })\r\n  .then((reponse) => {\r\n      //On traite la suite une fois la réponse obtenue \r\n      rep = reponse.data\r\n      console.log(rep);\r\n      this.resultat = rep\r\n      console.log(this)\r\n      \r\n  })\r\n  .catch(function (erreur) {\r\n      //On traite ici les erreurs éventuellement survenues\r\n      console.log(erreur);\r\n  });\r\n    \r\n  }\r\n  render() {\r\n\r\n        \r\n\r\n          return (\r\n          //<div className=\"dbpedia\" style={{width:'100%'}}>\r\n          //  <AdaptiveCard style={{width: '400px', border: '1px solid black'}} payload={this.result} />\r\n         // </div> \r\n          <div>\r\n          <p>Etat :{this.resultat && `${this.resultat.message}`}</p>\r\n          <p>Id: {this.resultat && `${this.resultat.id}`}</p>\r\n          </div>\r\n         );\r\n        \r\n    \r\n    \r\n  }\r\n}\r\n\r\nexport default AdaptiveUserCard"]},"metadata":{},"sourceType":"module"}