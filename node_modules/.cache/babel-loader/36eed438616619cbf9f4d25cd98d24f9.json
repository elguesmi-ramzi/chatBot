{"ast":null,"code":"var _jsxFileName = \"C:\\\\java\\\\interface-react-chatbot\\\\src\\\\components\\\\AdaptiveUserCard.js\";\nimport React, { Component } from 'react';\nimport AdaptiveCard from 'react-adaptivecards';\nimport axios from 'axios';\n\nfunction payloads(name, siteWeb, email, phone) {\n  return `\n  \n          \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n          \"type\": \"AdaptiveCard\",\n          \"version\": \"1.0\",\n          \"body\": [\n            {\n              \"type\": \"Container\",\n              \"items\": [\n                {\n                  \"type\": \"TextBlock\",\n                  \"text\": \"Carte utilisateur\",\n                  \"weight\": \"bolder\",\n                  \"size\": \"medium\"\n                },\n                {\n                  \"type\": \"ColumnSet\",\n                  \"columns\": [\n                    {\n                      \"type\": \"Column\",\n                      \"width\": \"auto\",\n                      \"items\": [\n                        {\n                          \"type\": \"Image\",\n                          \"url\": \"https://pbs.twimg.com/profile_images/3647943215/d7f12830b3c17a5a9e4afcc370e3a37e_400x400.jpeg\",\n                          \"size\": \"small\",\n                          \"style\": \"person\"\n                        }\n                      ]\n                    },\n                    {\n                      \"type\": \"Column\",\n                      \"width\": \"stretch\",\n                      \"items\": [\n                        {\n                          \"type\": \"TextBlock\",\n                          \"text\": ${name},\n                          \"weight\": \"bolder\",\n                          \"wrap\": true\n                        },\n                       \n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"type\": \"Container\",\n              \"items\": [\n               \n                {\n                  \"type\": \"FactSet\",\n                  \"facts\": [\n                  \n                    {\n                      \"title\": \"Site web:\",\n                      \"value\": ${siteWeb}\n                    },\n                    {\n                      \"title\": \"E-mail:\",\n                      \"value\": ${email}\n                    },\n                    {\n                      \"title\": \"Mobile:\",\n                      \"value\": ${phone}\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        \n        }`;\n}\n\nclass AdaptiveUserCard extends Component {\n  // name, siteWeb, email, phone\n  constructor(props) {\n    super(props);\n    console.log(props.id);\n    this.state = {\n      loading: true,\n      trigger: false,\n      user: {}\n    };\n    this.state.user = this.generateCard();\n    this.triggetNext = this.triggetNext.bind(this);\n    this.result = '';\n  }\n\n  async generateCard() {\n    console.log('didMount' + this.props.id);\n    await axios.get(`https://jsonplaceholder.typicode.com/users/${this.props.id}`).then(response => {\n      // create an array of contacts only with relevant data\n      const newUser = response.data;\n      console.log(newUser); // create a new \"State\" object without mutating \n      // the original State object. \n      // const newState = Object.assign({}, this.state, {\n      //   data: newUser\n      // });\n      // store the new state object in the component's state\n\n      this.result = payloads(newUser.name, newUser.siteWeb, newUser.email, newUser.phone);\n      console.log('result :' + this.result);\n      return newUser;\n    }).catch(error => console.log(error));\n  }\n\n  triggetNext() {\n    this.setState({\n      trigger: true\n    }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n  render() {\n    console.log('render' + this.result);\n    setTimeout(attendre, 6000);\n\n    function attendre() {\n      if (this.result === undefined || !this.result) {\n        return React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"Chargement de la carte ...\");\n      } else {\n        return React.createElement(\"div\", {\n          className: \"dbpedia\",\n          style: {\n            width: '100%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(AdaptiveCard, {\n          style: {\n            width: '400px',\n            border: '1px solid black'\n          },\n          payload: this.result,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }));\n      }\n    }\n\n    return true;\n  }\n\n}\n\nexport default AdaptiveUserCard;","map":{"version":3,"sources":["C:/java/interface-react-chatbot/src/components/AdaptiveUserCard.js"],"names":["React","Component","AdaptiveCard","axios","payloads","name","siteWeb","email","phone","AdaptiveUserCard","constructor","props","console","log","id","state","loading","trigger","user","generateCard","triggetNext","bind","result","get","then","response","newUser","data","catch","error","setState","triggerNextStep","render","setTimeout","attendre","undefined","width","border"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AdaptiveCard from 'react-adaptivecards';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction payloads(name, siteWeb, email, phone){ \r\n return (\r\n      `\r\n  \r\n          \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\r\n          \"type\": \"AdaptiveCard\",\r\n          \"version\": \"1.0\",\r\n          \"body\": [\r\n            {\r\n              \"type\": \"Container\",\r\n              \"items\": [\r\n                {\r\n                  \"type\": \"TextBlock\",\r\n                  \"text\": \"Carte utilisateur\",\r\n                  \"weight\": \"bolder\",\r\n                  \"size\": \"medium\"\r\n                },\r\n                {\r\n                  \"type\": \"ColumnSet\",\r\n                  \"columns\": [\r\n                    {\r\n                      \"type\": \"Column\",\r\n                      \"width\": \"auto\",\r\n                      \"items\": [\r\n                        {\r\n                          \"type\": \"Image\",\r\n                          \"url\": \"https://pbs.twimg.com/profile_images/3647943215/d7f12830b3c17a5a9e4afcc370e3a37e_400x400.jpeg\",\r\n                          \"size\": \"small\",\r\n                          \"style\": \"person\"\r\n                        }\r\n                      ]\r\n                    },\r\n                    {\r\n                      \"type\": \"Column\",\r\n                      \"width\": \"stretch\",\r\n                      \"items\": [\r\n                        {\r\n                          \"type\": \"TextBlock\",\r\n                          \"text\": ${name},\r\n                          \"weight\": \"bolder\",\r\n                          \"wrap\": true\r\n                        },\r\n                       \r\n                      ]\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"type\": \"Container\",\r\n              \"items\": [\r\n               \r\n                {\r\n                  \"type\": \"FactSet\",\r\n                  \"facts\": [\r\n                  \r\n                    {\r\n                      \"title\": \"Site web:\",\r\n                      \"value\": ${siteWeb}\r\n                    },\r\n                    {\r\n                      \"title\": \"E-mail:\",\r\n                      \"value\": ${email}\r\n                    },\r\n                    {\r\n                      \"title\": \"Mobile:\",\r\n                      \"value\": ${phone}\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        \r\n        }`\r\n )\r\n }  \r\n\r\n\r\n\r\n\r\nclass AdaptiveUserCard extends Component {\r\n\r\n// name, siteWeb, email, phone\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props.id)\r\n    this.state = {\r\n      loading: true,\r\n      trigger: false,\r\n      user:{}\r\n    };\r\n    this.state.user = this.generateCard();\r\n    this.triggetNext = this.triggetNext.bind(this);\r\n    this.result = ''\r\n  }\r\n\r\n  async generateCard() {\r\n    console.log('didMount' + this.props.id);\r\n   \r\n      await axios.get(`https://jsonplaceholder.typicode.com/users/${this.props.id}`)\r\n        \r\n        .then(response => {\r\n\r\n        // create an array of contacts only with relevant data\r\n        const newUser = response.data;\r\n        console.log(newUser)\r\n        // create a new \"State\" object without mutating \r\n        // the original State object. \r\n        // const newState = Object.assign({}, this.state, {\r\n        //   data: newUser\r\n        // });\r\n\r\n        // store the new state object in the component's state\r\n        this.result = payloads(newUser.name, newUser.siteWeb,newUser.email, newUser.phone);\r\n        console.log('result :' + this.result)\r\n        \r\n        return newUser; \r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n  \r\n\r\n  triggetNext() {\r\n    this.setState({ trigger: true }, () => {\r\n      this.props.triggerNextStep();\r\n    });\r\n  }\r\n\r\n  render() {\r\n     \r\n   \r\n    console.log('render' + this.result) \r\n    setTimeout(attendre,6000);\r\n    function attendre(){\r\n        if (this.result === undefined || !this.result) {\r\n          return <span>Chargement de la carte ...</span>\r\n        } else {\r\n          return (\r\n          <div className=\"dbpedia\" style={{width:'100%'}}>\r\n            <AdaptiveCard style={{width: '400px', border: '1px solid black'}} payload={this.result} />\r\n          </div> );\r\n        }\r\n    }\r\n    return true\r\n  }\r\n}\r\n\r\nexport default AdaptiveUserCard"]},"metadata":{},"sourceType":"module"}