{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ccheouxd\\\\React\\\\simplechatbot\\\\src\\\\index.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport PropTypes from 'prop-types';\nimport * as serviceWorker from './serviceWorker';\nimport ChatBot from 'react-simple-chatbot';\nimport AdaptiveCard from 'react-adaptivecards';\n/*const steps = [\n  {\n    id: '0',\n    message: 'Welcome to react chatbot!',\n    trigger: '1',\n  },\n  {\n    id: '1',\n    message: 'Bye!',\n    end: true,\n  },\n];\n\nReactDOM.render(\n  <div>\n    <ChatBot steps={steps} />\n  </div>,\n  document.getElementById('root')\n);*/\n\nconst steps = [];\nconst payloads = {\n  \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n  \"type\": \"AdaptiveCard\",\n  \"version\": \"1.0\",\n  \"body\": [{\n    \"speak\": \"Tom's Pie is a Pizza restaurant which is rated 9.3 by customers.\",\n    \"type\": \"ColumnSet\",\n    \"columns\": [{\n      \"type\": \"Column\",\n      \"width\": 2,\n      \"items\": [{\n        \"type\": \"TextBlock\",\n        \"text\": \"PIZZA\"\n      }, {\n        \"type\": \"TextBlock\",\n        \"text\": \"Tom's Pie\",\n        \"weight\": \"bolder\",\n        \"size\": \"extraLarge\",\n        \"spacing\": \"none\"\n      }, {\n        \"type\": \"TextBlock\",\n        \"text\": \"4.2 ★★★☆ (93) · $$\",\n        \"isSubtle\": true,\n        \"spacing\": \"none\"\n      }, {\n        \"type\": \"TextBlock\",\n        \"text\": \"**Matt H. said** \\\"I'm compelled to give this place 5 stars due to the number of times I've chosen to eat here this past year!\\\"\",\n        \"size\": \"small\",\n        \"wrap\": true\n      }]\n    }, {\n      \"type\": \"Column\",\n      \"width\": 1,\n      \"items\": [{\n        \"type\": \"Image\",\n        \"url\": \"https://picsum.photos/300?image=882\",\n        \"size\": \"auto\"\n      }]\n    }]\n  }],\n  \"actions\": [{\n    \"type\": \"Action.OpenUrl\",\n    \"title\": \"More Info\",\n    \"url\": \"https://www.youtube.com/watch?v=dQw4w9WgXcQ\"\n  }]\n};\n\nclass DBPedia extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      result: '',\n      trigger: false\n    };\n    this.triggetNext = this.triggetNext.bind(this);\n  }\n\n  componentWillMount() {\n    const self = this;\n    const {\n      steps\n    } = this.props;\n    const search = steps.search.value;\n    const endpoint = encodeURI('https://dbpedia.org');\n    const query = encodeURI(`\n      select * where {\n      ?x rdfs:label \"${search}\"@en .\n      ?x rdfs:comment ?comment .\n      FILTER (lang(?comment) = 'en')\n      } LIMIT 100\n    `);\n    const queryUrl = `https://dbpedia.org/sparql/?default-graph-uri=${endpoint}&query=${query}&format=json`;\n    const xhr = new XMLHttpRequest();\n    xhr.addEventListener('readystatechange', readyStateChange);\n\n    function readyStateChange() {\n      if (this.readyState === 4) {\n        const data = JSON.parse(this.responseText);\n        const bindings = data.results.bindings;\n\n        if (bindings && bindings.length > 0) {\n          self.setState({\n            loading: false,\n            result: bindings[0].comment.value\n          });\n        } else {\n          self.setState({\n            loading: false,\n            result: 'Not found.'\n          });\n        }\n      }\n    }\n\n    xhr.open('GET', queryUrl);\n    xhr.send();\n  }\n\n  triggetNext() {\n    this.setState({\n      trigger: true\n    }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n  render() {\n    const {\n      trigger,\n      loading,\n      result\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"dbpedia\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, loading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }) : result, !loading && React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, !trigger && React.createElement(\"button\", {\n      onClick: () => this.triggetNext(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Search Again\")));\n  }\n\n}\n\nDBPedia.propTypes = {\n  steps: PropTypes.object,\n  triggerNextStep: PropTypes.func\n};\nDBPedia.defaultProps = {\n  steps: undefined,\n  triggerNextStep: undefined\n};\n\nclass Review extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      gender: '',\n      age: ''\n    };\n  }\n\n  componentWillMount() {\n    const {\n      steps\n    } = this.props;\n    const {\n      name,\n      gender,\n      age\n    } = steps;\n    this.setState({\n      name,\n      gender,\n      age\n    });\n  }\n\n  render() {\n    const {\n      name,\n      gender,\n      age\n    } = this.state;\n    return React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Summary\"), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, name.value)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Gender\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, gender.value)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Age\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, age.value)))));\n  }\n\n}\n\nReview.propTypes = {\n  steps: PropTypes.object\n};\nReview.defaultProps = {\n  steps: undefined\n};\n\nclass SimpleForm extends Component {\n  render() {\n    return React.createElement(ChatBot, {\n      steps: [{\n        id: '1',\n        message: 'What is your name?',\n        trigger: 'name'\n      }, {\n        id: 'name',\n        user: true,\n        trigger: '3'\n      }, {\n        id: '3',\n        message: 'Hi {previousValue}! What is your gender?',\n        trigger: 'gender'\n      }, {\n        id: 'gender',\n        options: [{\n          value: 'male',\n          label: 'Male',\n          trigger: '5'\n        }, {\n          value: 'female',\n          label: 'Female',\n          trigger: '5'\n        }]\n      }, {\n        id: '5',\n        message: 'How old are you?',\n        trigger: 'age'\n      }, {\n        id: 'age',\n        user: true,\n        trigger: '7',\n        validator: value => {\n          if (isNaN(value)) {\n            return 'value must be a number';\n          } else if (value < 0) {\n            return 'value must be positive';\n          } else if (value > 120) {\n            return `${value}? Come on!`;\n          }\n\n          return true;\n        }\n      }, {\n        id: '7',\n        message: 'Great! Check out your summary',\n        trigger: 'review'\n      }, {\n        id: 'review',\n        component: React.createElement(Review, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }),\n        asMessage: true,\n        trigger: 'update'\n      }, {\n        id: 'update',\n        message: 'Would you like to update some field?',\n        trigger: 'update-question'\n      }, {\n        id: 'update-question',\n        options: [{\n          value: 'yes',\n          label: 'Yes',\n          trigger: 'update-yes'\n        }, {\n          value: 'no',\n          label: 'No',\n          trigger: 'end-message'\n        }]\n      }, {\n        id: 'update-yes',\n        message: 'What field would you like to update?',\n        trigger: 'update-fields'\n      }, {\n        id: 'update-fields',\n        options: [{\n          value: 'name',\n          label: 'Name',\n          trigger: 'update-name'\n        }, {\n          value: 'gender',\n          label: 'Gender',\n          trigger: 'update-gender'\n        }, {\n          value: 'age',\n          label: 'Age',\n          trigger: 'update-age'\n        }, {\n          value: '',\n          label: 'adaptiveCard',\n          trigger: 'see-adaptivecard'\n        }]\n      }, {\n        id: 'update-name',\n        update: 'name',\n        trigger: '7'\n      }, {\n        id: 'update-gender',\n        update: 'gender',\n        trigger: '7'\n      }, {\n        id: 'update-age',\n        update: 'age',\n        trigger: '7'\n      }, {\n        id: 'see-adaptivecard',\n        component: React.createElement(DBPedia, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337\n          },\n          __self: this\n        }, React.createElement(AdaptiveCard, {\n          style: {\n            width: '500px',\n            border: '1px solid black'\n          },\n          payload: payloads,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337\n          },\n          __self: this\n        })),\n        trigger: 'end-message'\n      }, {\n        id: 'end-message',\n        message: 'Thanks! Your data was submitted successfully!',\n        end: true\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    });\n  }\n\n}\n\nReactDOM.render(React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 352\n  },\n  __self: this\n}, React.createElement(SimpleForm, {\n  steps: steps,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 353\n  },\n  __self: this\n})), document.getElementById('root')); //ReactDOM.render(<App />, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\nserviceWorker.unregister();","map":{"version":3,"sources":["C:/Users/ccheouxd/React/simplechatbot/src/index.js"],"names":["React","Component","ReactDOM","PropTypes","serviceWorker","ChatBot","AdaptiveCard","steps","payloads","DBPedia","constructor","props","state","loading","result","trigger","triggetNext","bind","componentWillMount","self","search","value","endpoint","encodeURI","query","queryUrl","xhr","XMLHttpRequest","addEventListener","readyStateChange","readyState","data","JSON","parse","responseText","bindings","results","length","setState","comment","open","send","triggerNextStep","render","textAlign","marginTop","propTypes","object","func","defaultProps","undefined","Review","name","gender","age","width","SimpleForm","id","message","user","options","label","validator","isNaN","component","asMessage","update","border","end","document","getElementById","unregister"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,aAAP;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,aAAZ,MAA+B,iBAA/B;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AAEA;;;;;;;;;;;;;;;;;;;;AAmBA,MAAMC,KAAK,GAAG,EAAd;AACA,MAAMC,QAAQ,GAAC;AACV,aAAW,oDADD;AAEV,UAAQ,cAFE;AAGV,aAAW,KAHD;AAIV,UAAQ,CACT;AACE,aAAS,kEADX;AAEE,YAAQ,WAFV;AAGE,eAAW,CACZ;AACE,cAAQ,QADV;AAEE,eAAS,CAFX;AAGE,eAAS,CACV;AACE,gBAAQ,WADV;AAEE,gBAAQ;AAFV,OADU,EAKV;AACE,gBAAQ,WADV;AAEE,gBAAQ,WAFV;AAGE,kBAAU,QAHZ;AAIE,gBAAQ,YAJV;AAKE,mBAAW;AALb,OALU,EAYV;AACE,gBAAQ,WADV;AAEE,gBAAQ,oBAFV;AAGE,oBAAY,IAHd;AAIE,mBAAW;AAJb,OAZU,EAkBV;AACE,gBAAQ,WADV;AAEE,gBAAQ,kIAFV;AAGE,gBAAQ,OAHV;AAIE,gBAAQ;AAJV,OAlBU;AAHX,KADY,EA8BZ;AACE,cAAQ,QADV;AAEE,eAAS,CAFX;AAGE,eAAS,CACV;AACE,gBAAQ,OADV;AAEE,eAAO,qCAFT;AAGE,gBAAQ;AAHV,OADU;AAHX,KA9BY;AAHb,GADS,CAJE;AAoDV,aAAW,CACZ;AACE,YAAQ,gBADV;AAEE,aAAS,WAFX;AAGE,WAAO;AAHT,GADY;AApDD,CAAf;;AA6DA,MAAMC,OAAN,SAAsBR,SAAtB,CAAgC;AAC9BS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,MAAM,EAAE,EAFG;AAGXC,MAAAA,OAAO,EAAE;AAHE,KAAb;AAMA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,UAAMC,IAAI,GAAG,IAAb;AACA,UAAM;AAAEZ,MAAAA;AAAF,QAAY,KAAKI,KAAvB;AACA,UAAMS,MAAM,GAAGb,KAAK,CAACa,MAAN,CAAaC,KAA5B;AACA,UAAMC,QAAQ,GAAGC,SAAS,CAAC,qBAAD,CAA1B;AACA,UAAMC,KAAK,GAAGD,SAAS,CAAE;;uBAENH,MAAO;;;;KAFH,CAAvB;AAQA,UAAMK,QAAQ,GAAI,iDAAgDH,QAAS,UAASE,KAAM,cAA1F;AAEA,UAAME,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AAEAD,IAAAA,GAAG,CAACE,gBAAJ,CAAqB,kBAArB,EAAyCC,gBAAzC;;AAEA,aAASA,gBAAT,GAA4B;AAC1B,UAAI,KAAKC,UAAL,KAAoB,CAAxB,EAA2B;AACzB,cAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAW,KAAKC,YAAhB,CAAb;AACA,cAAMC,QAAQ,GAAGJ,IAAI,CAACK,OAAL,CAAaD,QAA9B;;AACA,YAAIA,QAAQ,IAAIA,QAAQ,CAACE,MAAT,GAAkB,CAAlC,EAAqC;AACnClB,UAAAA,IAAI,CAACmB,QAAL,CAAc;AAAEzB,YAAAA,OAAO,EAAE,KAAX;AAAkBC,YAAAA,MAAM,EAAEqB,QAAQ,CAAC,CAAD,CAAR,CAAYI,OAAZ,CAAoBlB;AAA9C,WAAd;AACD,SAFD,MAEO;AACLF,UAAAA,IAAI,CAACmB,QAAL,CAAc;AAAEzB,YAAAA,OAAO,EAAE,KAAX;AAAkBC,YAAAA,MAAM,EAAE;AAA1B,WAAd;AACD;AACF;AACF;;AAEDY,IAAAA,GAAG,CAACc,IAAJ,CAAS,KAAT,EAAgBf,QAAhB;AACAC,IAAAA,GAAG,CAACe,IAAJ;AACD;;AAEDzB,EAAAA,WAAW,GAAG;AACZ,SAAKsB,QAAL,CAAc;AAAEvB,MAAAA,OAAO,EAAE;AAAX,KAAd,EAAiC,MAAM;AACrC,WAAKJ,KAAL,CAAW+B,eAAX;AACD,KAFD;AAGD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE5B,MAAAA,OAAF;AAAWF,MAAAA,OAAX;AAAoBC,MAAAA;AAApB,QAA+B,KAAKF,KAA1C;AAEA,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIC,OAAO,GAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAiBC,MAD5B,EAGI,CAACD,OAAD,IACA;AACE,MAAA,KAAK,EAAE;AACL+B,QAAAA,SAAS,EAAE,QADN;AAELC,QAAAA,SAAS,EAAE;AAFN,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOI,CAAC9B,OAAD,IACA;AACE,MAAA,OAAO,EAAE,MAAM,KAAKC,WAAL,EADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBARJ,CAJJ,CADF;AAuBD;;AAhF6B;;AAmFhCP,OAAO,CAACqC,SAAR,GAAoB;AAClBvC,EAAAA,KAAK,EAAEJ,SAAS,CAAC4C,MADC;AAElBL,EAAAA,eAAe,EAAEvC,SAAS,CAAC6C;AAFT,CAApB;AAKAvC,OAAO,CAACwC,YAAR,GAAuB;AACrB1C,EAAAA,KAAK,EAAE2C,SADc;AAErBR,EAAAA,eAAe,EAAEQ;AAFI,CAAvB;;AAKA,MAAMC,MAAN,SAAqBlD,SAArB,CAA+B;AAC7BS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXwC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,MAAM,EAAE,EAFG;AAGXC,MAAAA,GAAG,EAAE;AAHM,KAAb;AAKD;;AAEDpC,EAAAA,kBAAkB,GAAG;AACnB,UAAM;AAAEX,MAAAA;AAAF,QAAY,KAAKI,KAAvB;AACA,UAAM;AAAEyC,MAAAA,IAAF;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA;AAAhB,QAAwB/C,KAA9B;AAEA,SAAK+B,QAAL,CAAc;AAAEc,MAAAA,IAAF;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA;AAAhB,KAAd;AACD;;AAEDX,EAAAA,MAAM,GAAG;AACP,UAAM;AAAES,MAAAA,IAAF;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA;AAAhB,QAAwB,KAAK1C,KAAnC;AACA,WACE;AAAK,MAAA,KAAK,EAAE;AAAE2C,QAAAA,KAAK,EAAE;AAAT,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,IAAI,CAAC/B,KAAV,CAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKgC,MAAM,CAAChC,KAAZ,CAFF,CALF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKiC,GAAG,CAACjC,KAAT,CAFF,CATF,CADF,CAFF,CADF;AAqBD;;AAzC4B;;AA4C/B8B,MAAM,CAACL,SAAP,GAAmB;AACjBvC,EAAAA,KAAK,EAAEJ,SAAS,CAAC4C;AADA,CAAnB;AAIAI,MAAM,CAACF,YAAP,GAAsB;AACpB1C,EAAAA,KAAK,EAAE2C;AADa,CAAtB;;AAIA,MAAMM,UAAN,SAAyBvD,SAAzB,CAAmC;AACjC0C,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,OAAD;AACE,MAAA,KAAK,EAAE,CACL;AACEc,QAAAA,EAAE,EAAE,GADN;AAEEC,QAAAA,OAAO,EAAE,oBAFX;AAGE3C,QAAAA,OAAO,EAAE;AAHX,OADK,EAML;AACE0C,QAAAA,EAAE,EAAE,MADN;AAEEE,QAAAA,IAAI,EAAE,IAFR;AAGE5C,QAAAA,OAAO,EAAE;AAHX,OANK,EAWL;AACE0C,QAAAA,EAAE,EAAE,GADN;AAEEC,QAAAA,OAAO,EAAE,0CAFX;AAGE3C,QAAAA,OAAO,EAAE;AAHX,OAXK,EAgBL;AACE0C,QAAAA,EAAE,EAAE,QADN;AAEEG,QAAAA,OAAO,EAAE,CACP;AAAEvC,UAAAA,KAAK,EAAE,MAAT;AAAiBwC,UAAAA,KAAK,EAAE,MAAxB;AAAgC9C,UAAAA,OAAO,EAAE;AAAzC,SADO,EAEP;AAAEM,UAAAA,KAAK,EAAE,QAAT;AAAmBwC,UAAAA,KAAK,EAAE,QAA1B;AAAoC9C,UAAAA,OAAO,EAAE;AAA7C,SAFO;AAFX,OAhBK,EAuBL;AACE0C,QAAAA,EAAE,EAAE,GADN;AAEEC,QAAAA,OAAO,EAAE,kBAFX;AAGE3C,QAAAA,OAAO,EAAE;AAHX,OAvBK,EA4BL;AACE0C,QAAAA,EAAE,EAAE,KADN;AAEEE,QAAAA,IAAI,EAAE,IAFR;AAGE5C,QAAAA,OAAO,EAAE,GAHX;AAIE+C,QAAAA,SAAS,EAAGzC,KAAD,IAAW;AACpB,cAAI0C,KAAK,CAAC1C,KAAD,CAAT,EAAkB;AAChB,mBAAO,wBAAP;AACD,WAFD,MAEO,IAAIA,KAAK,GAAG,CAAZ,EAAe;AACpB,mBAAO,wBAAP;AACD,WAFM,MAEA,IAAIA,KAAK,GAAG,GAAZ,EAAiB;AACtB,mBAAQ,GAAEA,KAAM,YAAhB;AACD;;AAED,iBAAO,IAAP;AACD;AAdH,OA5BK,EA4CL;AACEoC,QAAAA,EAAE,EAAE,GADN;AAEEC,QAAAA,OAAO,EAAE,+BAFX;AAGE3C,QAAAA,OAAO,EAAE;AAHX,OA5CK,EAiDL;AACE0C,QAAAA,EAAE,EAAE,QADN;AAEEO,QAAAA,SAAS,EAAE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFb;AAGEC,QAAAA,SAAS,EAAE,IAHb;AAIElD,QAAAA,OAAO,EAAE;AAJX,OAjDK,EAuDL;AACE0C,QAAAA,EAAE,EAAE,QADN;AAEEC,QAAAA,OAAO,EAAE,sCAFX;AAGE3C,QAAAA,OAAO,EAAE;AAHX,OAvDK,EA4DL;AACE0C,QAAAA,EAAE,EAAE,iBADN;AAEEG,QAAAA,OAAO,EAAE,CACP;AAAEvC,UAAAA,KAAK,EAAE,KAAT;AAAgBwC,UAAAA,KAAK,EAAE,KAAvB;AAA8B9C,UAAAA,OAAO,EAAE;AAAvC,SADO,EAEP;AAAEM,UAAAA,KAAK,EAAE,IAAT;AAAewC,UAAAA,KAAK,EAAE,IAAtB;AAA4B9C,UAAAA,OAAO,EAAE;AAArC,SAFO;AAFX,OA5DK,EAmEL;AACE0C,QAAAA,EAAE,EAAE,YADN;AAEEC,QAAAA,OAAO,EAAE,sCAFX;AAGE3C,QAAAA,OAAO,EAAE;AAHX,OAnEK,EAwEL;AACE0C,QAAAA,EAAE,EAAE,eADN;AAEEG,QAAAA,OAAO,EAAE,CACP;AAAEvC,UAAAA,KAAK,EAAE,MAAT;AAAiBwC,UAAAA,KAAK,EAAE,MAAxB;AAAgC9C,UAAAA,OAAO,EAAE;AAAzC,SADO,EAEP;AAAEM,UAAAA,KAAK,EAAE,QAAT;AAAmBwC,UAAAA,KAAK,EAAE,QAA1B;AAAoC9C,UAAAA,OAAO,EAAE;AAA7C,SAFO,EAGP;AAAEM,UAAAA,KAAK,EAAE,KAAT;AAAgBwC,UAAAA,KAAK,EAAE,KAAvB;AAA8B9C,UAAAA,OAAO,EAAE;AAAvC,SAHO,EAIhB;AAAEM,UAAAA,KAAK,EAAE,EAAT;AAAawC,UAAAA,KAAK,EAAE,cAApB;AAAoC9C,UAAAA,OAAO,EAAE;AAA7C,SAJgB;AAFX,OAxEK,EAiFL;AACE0C,QAAAA,EAAE,EAAE,aADN;AAEES,QAAAA,MAAM,EAAE,MAFV;AAGEnD,QAAAA,OAAO,EAAE;AAHX,OAjFK,EAsFL;AACE0C,QAAAA,EAAE,EAAE,eADN;AAEES,QAAAA,MAAM,EAAE,QAFV;AAGEnD,QAAAA,OAAO,EAAE;AAHX,OAtFK,EA2FL;AACE0C,QAAAA,EAAE,EAAE,YADN;AAEES,QAAAA,MAAM,EAAE,KAFV;AAGEnD,QAAAA,OAAO,EAAE;AAHX,OA3FK,EAgGX;AACQ0C,QAAAA,EAAE,EAAE,kBADZ;AAEDO,QAAAA,SAAS,EAAE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAS,oBAAC,YAAD;AAAc,UAAA,KAAK,EAAE;AAACT,YAAAA,KAAK,EAAE,OAAR;AAAiBY,YAAAA,MAAM,EAAE;AAAzB,WAArB;AAAkE,UAAA,OAAO,EAAE3D,QAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAT,CAFV;AAGQO,QAAAA,OAAO,EAAE;AAHjB,OAhGW,EAqGL;AACE0C,QAAAA,EAAE,EAAE,aADN;AAEEC,QAAAA,OAAO,EAAE,+CAFX;AAGEU,QAAAA,GAAG,EAAE;AAHP,OArGK,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AA+GD;;AAjHgC;;AAoHnClE,QAAQ,CAACyC,MAAT,CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE,oBAAC,UAAD;AAAY,EAAA,KAAK,EAAEpC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,CADF,EAIE8D,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E,CAMA;AAEA;AACA;AACA;;AACAlE,aAAa,CAACmE,UAAd","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport PropTypes from 'prop-types';\nimport * as serviceWorker from './serviceWorker';\nimport ChatBot from 'react-simple-chatbot';\nimport AdaptiveCard from 'react-adaptivecards';\n\n/*const steps = [\n  {\n    id: '0',\n    message: 'Welcome to react chatbot!',\n    trigger: '1',\n  },\n  {\n    id: '1',\n    message: 'Bye!',\n    end: true,\n  },\n];\n\nReactDOM.render(\n  <div>\n    <ChatBot steps={steps} />\n  </div>,\n  document.getElementById('root')\n);*/\nconst steps = [];\nconst payloads={\n\t\t\t  \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n\t\t\t  \"type\": \"AdaptiveCard\",\n\t\t\t  \"version\": \"1.0\",\n\t\t\t  \"body\": [\n\t\t\t\t{\n\t\t\t\t  \"speak\": \"Tom's Pie is a Pizza restaurant which is rated 9.3 by customers.\",\n\t\t\t\t  \"type\": \"ColumnSet\",\n\t\t\t\t  \"columns\": [\n\t\t\t\t\t{\n\t\t\t\t\t  \"type\": \"Column\",\n\t\t\t\t\t  \"width\": 2,\n\t\t\t\t\t  \"items\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t  \"type\": \"TextBlock\",\n\t\t\t\t\t\t  \"text\": \"PIZZA\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t  \"type\": \"TextBlock\",\n\t\t\t\t\t\t  \"text\": \"Tom's Pie\",\n\t\t\t\t\t\t  \"weight\": \"bolder\",\n\t\t\t\t\t\t  \"size\": \"extraLarge\",\n\t\t\t\t\t\t  \"spacing\": \"none\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t  \"type\": \"TextBlock\",\n\t\t\t\t\t\t  \"text\": \"4.2 ★★★☆ (93) · $$\",\n\t\t\t\t\t\t  \"isSubtle\": true,\n\t\t\t\t\t\t  \"spacing\": \"none\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t  \"type\": \"TextBlock\",\n\t\t\t\t\t\t  \"text\": \"**Matt H. said** \\\"I'm compelled to give this place 5 stars due to the number of times I've chosen to eat here this past year!\\\"\",\n\t\t\t\t\t\t  \"size\": \"small\",\n\t\t\t\t\t\t  \"wrap\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t  ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  \"type\": \"Column\",\n\t\t\t\t\t  \"width\": 1,\n\t\t\t\t\t  \"items\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t  \"type\": \"Image\",\n\t\t\t\t\t\t  \"url\": \"https://picsum.photos/300?image=882\",\n\t\t\t\t\t\t  \"size\": \"auto\"\n\t\t\t\t\t\t}\n\t\t\t\t\t  ]\n\t\t\t\t\t}\n\t\t\t\t  ]\n\t\t\t\t}\n\t\t\t  ],\n\t\t\t  \"actions\": [\n\t\t\t\t{\n\t\t\t\t  \"type\": \"Action.OpenUrl\",\n\t\t\t\t  \"title\": \"More Info\",\n\t\t\t\t  \"url\": \"https://www.youtube.com/watch?v=dQw4w9WgXcQ\"\n\t\t\t\t}\n\t\t\t  ]\n\t\t\t};\n\nclass DBPedia extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      result: '',\n      trigger: false,\n    };\n\n    this.triggetNext = this.triggetNext.bind(this);\n  }\n\n  componentWillMount() {\n    const self = this;\n    const { steps } = this.props;\n    const search = steps.search.value;\n    const endpoint = encodeURI('https://dbpedia.org');\n    const query = encodeURI(`\n      select * where {\n      ?x rdfs:label \"${search}\"@en .\n      ?x rdfs:comment ?comment .\n      FILTER (lang(?comment) = 'en')\n      } LIMIT 100\n    `);\n\n    const queryUrl = `https://dbpedia.org/sparql/?default-graph-uri=${endpoint}&query=${query}&format=json`;\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('readystatechange', readyStateChange);\n\n    function readyStateChange() {\n      if (this.readyState === 4) {\n        const data = JSON.parse(this.responseText);\n        const bindings = data.results.bindings;\n        if (bindings && bindings.length > 0) {\n          self.setState({ loading: false, result: bindings[0].comment.value });\n        } else {\n          self.setState({ loading: false, result: 'Not found.' });\n        }\n      }\n    }\n\n    xhr.open('GET', queryUrl);\n    xhr.send();\n  }\n\n  triggetNext() {\n    this.setState({ trigger: true }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n  render() {\n    const { trigger, loading, result } = this.state;\n\n    return (\n      <div className=\"dbpedia\">\n        { loading ? <Loading /> : result }\n        {\n          !loading &&\n          <div\n            style={{\n              textAlign: 'center',\n              marginTop: 20,\n            }}\n          >\n            {\n              !trigger &&\n              <button\n                onClick={() => this.triggetNext()}\n              >\n                Search Again\n              </button>\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nDBPedia.propTypes = {\n  steps: PropTypes.object,\n  triggerNextStep: PropTypes.func,\n};\n\nDBPedia.defaultProps = {\n  steps: undefined,\n  triggerNextStep: undefined,\n};\n\nclass Review extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      gender: '',\n      age: '',\n    };\n  }\n\n  componentWillMount() {\n    const { steps } = this.props;\n    const { name, gender, age } = steps;\n\n    this.setState({ name, gender, age });\n  }\n\n  render() {\n    const { name, gender, age } = this.state;\n    return (\n      <div style={{ width: '100%' }}>\n        <h3>Summary</h3>\n        <table>\n          <tbody>\n            <tr>\n              <td>Name</td>\n              <td>{name.value}</td>\n            </tr>\n            <tr>\n              <td>Gender</td>\n              <td>{gender.value}</td>\n            </tr>\n            <tr>\n              <td>Age</td>\n              <td>{age.value}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nReview.propTypes = {\n  steps: PropTypes.object,\n};\n\nReview.defaultProps = {\n  steps: undefined,\n};\n\nclass SimpleForm extends Component {\n  render() {\n    return (\n      <ChatBot\n        steps={[\n          {\n            id: '1',\n            message: 'What is your name?',\n            trigger: 'name',\n          },\n          {\n            id: 'name',\n            user: true,\n            trigger: '3',\n          },\n          {\n            id: '3',\n            message: 'Hi {previousValue}! What is your gender?',\n            trigger: 'gender',\n          },\n          {\n            id: 'gender',\n            options: [\n              { value: 'male', label: 'Male', trigger: '5' },\n              { value: 'female', label: 'Female', trigger: '5' },\n            ],\n          },\n          {\n            id: '5',\n            message: 'How old are you?',\n            trigger: 'age',\n          },\n          {\n            id: 'age',\n            user: true,\n            trigger: '7',\n            validator: (value) => {\n              if (isNaN(value)) {\n                return 'value must be a number';\n              } else if (value < 0) {\n                return 'value must be positive';\n              } else if (value > 120) {\n                return `${value}? Come on!`;\n              }\n\n              return true;\n            },\n          },\n          {\n            id: '7',\n            message: 'Great! Check out your summary',\n            trigger: 'review',\n          },\n          {\n            id: 'review',\n            component: <Review />,\n            asMessage: true,\n            trigger: 'update',\n          },\n          {\n            id: 'update',\n            message: 'Would you like to update some field?',\n            trigger: 'update-question',\n          },\n          {\n            id: 'update-question',\n            options: [\n              { value: 'yes', label: 'Yes', trigger: 'update-yes' },\n              { value: 'no', label: 'No', trigger: 'end-message' },\n            ],\n          },\n          {\n            id: 'update-yes',\n            message: 'What field would you like to update?',\n            trigger: 'update-fields',\n          },\n          {\n            id: 'update-fields',\n            options: [\n              { value: 'name', label: 'Name', trigger: 'update-name' },\n              { value: 'gender', label: 'Gender', trigger: 'update-gender' },\n              { value: 'age', label: 'Age', trigger: 'update-age' },\n\t\t\t  { value: '', label: 'adaptiveCard', trigger: 'see-adaptivecard' },\n            ],\n          },\n          {\n            id: 'update-name',\n            update: 'name',\n            trigger: '7',\n          },\n          {\n            id: 'update-gender',\n            update: 'gender',\n            trigger: '7',\n          },\n          {\n            id: 'update-age',\n            update: 'age',\n            trigger: '7',\n          },\n\t\t  {\n            id: 'see-adaptivecard',\n\t\t\tcomponent: <DBPedia><AdaptiveCard style={{width: '500px', border: '1px solid black'}} payload={payloads} /></DBPedia>,\n            trigger: 'end-message',\n          },\n          {\n            id: 'end-message',\n            message: 'Thanks! Your data was submitted successfully!',\n            end: true,\n          },\n        ]}\n      />\n    );\n  }\n}\n\nReactDOM.render(\n  <div>\n    <SimpleForm steps={steps} />\n  </div>,\n  document.getElementById('root')\n);\n//ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}